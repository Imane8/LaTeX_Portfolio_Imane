\documentclass[12pt,a4paper, twosides, openright]{book} 
% \input{preamble}
\usepackage[utf8]{inputenc} 

%%%%%%%%%%%%%%%%%% Here to set footnote on the left
\usepackage[bottom,flushmargin,hang,multiple]{footmisc}
\usepackage{etoolbox}
\makeatletter
\patchcmd\maketitle{\hb@xt@1.8em}{\hbox}{}{}
\makeatother
\setlength{\footnotemargin}{1em} % adjust as you like

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5


\usepackage[english]{babel}

\usepackage[T1]{fontenc} 
\usepackage{fancyhdr}
\DeclareUnicodeCharacter{2212}{-}
\usepackage{xlop}
\usepackage{amsmath,amssymb}
\usepackage[bb=boondox]{mathalpha}
\usepackage{amsfonts} 
\usepackage{ulem}
\usepackage{tkz-tab}
\usepackage{lipsum} % To generate fictional text

\usepackage{nicefrac} %Bank fractions

%%\usepackage{tocloft} % To customise the table of contents

\usepackage[many]{tcolorbox} % for COLORED BOXES (tikz and xcolor included)
\usepackage{xcolor}          % for color definitions
\usepackage{graphicx}        % for including images
\usepackage{adjustbox}       % for better alignment and resizing of content
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{multirow} 
\usepackage{cellspace} 
\usepackage{relsize} 
\cellspacetoplimit=4pt 
\cellspacebottomlimit=4pt 

%=====================================
% Package for conditional instructions
\usepackage{ifthen}
\usetikzlibrary{arrows.meta}
\newcommand{\MathsRenf}{1}     % Set to 1 to display, 0 to cacher

% Macros for conditional inclusion
\newcommand{\inputMathsRenf}[1]{%
    \ifthenelse{\equal{\MathsRenf}{1}}{%
        #1% Include part 1 if activated
    }{}%
}
%======================================
% Change section numbering
\renewcommand\thesection{\arabic{section}} % Sections : 1, 2, 3, ...
\renewcommand\thesubsection{\Alph{subsection}} % Subsections : A, B, C, ...
\renewcommand\thesubsubsection{\alph{subsubsection}} % Subsubsections : a, b, c, ...

% Force the display of subsections
\setcounter{secnumdepth}{3} %Numbering up to subsections


\usepackage{amsmath,amssymb,amsfonts,fontawesome5}
\usepackage{tikz}     % To draw lines
\usepackage{tkz-tab}  % For variation tables
\setlength{\parindent}{0mm} % Disable paragraph indentation
\usepackage[mode=buildnew]{standalone}
%-------- color____%

\usepackage[dvipsnames]{xcolor}

% Set the background colour

\usepackage{blindtext}


%------------ Declaring Packages---------%
%  ===> Styling and graphics-based
\usepackage[left=2cm,right=3cm,top=3.2cm,bottom=2.9cm]{geometry}
\usepackage{emptypage}
\usepackage{setspace}
\usepackage{pgf}
\usepackage{pgffor}
\doublespacing
%  ===> for graphs with functions
%\usepackage{pgfplots}
\usetikzlibrary{arrows.meta}
\usepackage{varwidth}
\usepackage{ragged2e}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}
\pagestyle{empty}
%  ===> for figures and tables
%  ===> figure:
\usepackage{subfigure}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{wrapfig}
\usepackage{subfigure}
\usepackage{rotating}
\usepackage{lscape}
%   ===> tables
\usepackage{tabularx, ragged2e, booktabs, caption}
\usepackage{multicol, tabularx, capt-of}
\usepackage{hhline}
\usepackage{multirow}
\usepackage{array}
%   ===>  for match equations
\usepackage{amssymb}
\usepackage{verbatim}
\usepackage{amsmath}
\usepackage{amsthm}
% ===>  for acronyms and glossaries
\usepackage{acronym}
\usepackage{glossaries}
% ===>  for hyperlinks
\usepackage[round]{natbib}
\usepackage[colorlinks = true,
            linkcolor = blue,
            urlcolor  = blue,
            citecolor = blue,
            anchorcolor = blue]{hyperref}
\usepackage{sectsty}
\allsectionsfont{\bfseries}
\chapterfont{\centering\Large}
\sectionfont{\normalsize}
\subsectionfont{\normalsize}

\usepackage [autostyle, french=guillemets]{csquotes}
\MakeOuterQuote{"}
\usepackage{utfsym}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%  ===>  footer formatting
\usepackage{makecell}
\usepackage{bm}
\usepackage{ifsym}
\usepackage{cancel}

\interfootnotelinepenalty=10000 
\usepackage[table]{xcolor}
\usepackage{epstopdf}

\definecolor{geogvert}{rgb}{0,0.39215686274509803,0}
\usepackage{amsthm,tikz,tkz-euclide,tikz-layers}
\usepackage{lipsum} % Pour générer du texte aléatoire
\usepackage{fancyhdr}
\usepackage{graphicx,tikz, lipsum, tikz-layers} 
\usetikzlibrary{calc,positioning,arrows,intersections,shapes.geometric,matrix}


\setlength{\parskip}{8pt}
\setlength{\parindent}{0pt}

% Définition des cercles
\def\firstcircle{(0,0) circle (1.25cm)}
\def\secondcircle{(0:1.75cm) circle (1.25cm)}

\colorlet{circle edge}{black}
\colorlet{circle area}{blue!50!cyan!20}

\tikzset{filled/.style={fill=circle area},
    outline/.style={draw=circle edge}}

\setlength{\parskip}{5mm}





\usepackage{tikz}

\usetikzlibrary{patterns,shadows}
\usepackage{xcolor}


%--------------- Numbering of exercises----------------

% --------------Define an environment for the exercises---------%

\usepackage{pifont}


%*******************************
%******************************

% Définir les environnements d'exercice et de correction
\newtheorem{Exercice}{Exercice}[chapter]
\newtheorem{corrige}{Corrigé}[chapter]

\makeatletter
% Redéfinir l'environnement d'exercice

\renewcommand{\theExercice}{\arabic{Exercice}}
\renewenvironment{Exercice}[1][]{
  \refstepcounter{Exercice}
  
   \par\noindent\textbf{Exercice \textcolor{blue}{\hyperref[cor\thechapter.\theExercice]{\theExercice}}}
  \if\relax\detokenize{#1}\relax\else\quad #1\fi%
  \label{exercice\thechapter.\theExercice}
  \par\vspace{0.5em}%
  \setlength{\parindent}{0pt}% Remove indentation for the environment content
}{
  \par\vspace{0.5em}%
}

% Redéfinir l'environnement de correction

\renewcommand{\thecorrige}{\arabic{corrige}}
\renewenvironment{corrige}[1][]{
  \refstepcounter{corrige}

     \par\noindent\textbf{ Exercice \textcolor{blue}{\hyperref[cours\thechapter.\thecorrige]{\thecorrige}}}%
     
  \if\relax\detokenize{#1}\relax\else\quad #1\fi%
  
  \label{corrige\thechapter.\thecorrige}
  \par\vspace{0.5em}%
  \setlength{\parindent}{0pt}
}{
  \par\vspace{0.5em}%
}
\makeatother

%******************************
%******************************
%*******************************
%******************************

% Définir les environnements de problèmes et de correction
\newtheorem{problem}{Problème}[chapter]
\newtheorem{corrigerprobleme}{Corrigé Problème}[chapter]

\makeatletter
% Redéfinir l'environnement problématique

\renewcommand{\theproblem}{\arabic{problem}}
\renewenvironment{problem}[1][]{
  \refstepcounter{problem}
  
   \par\noindent\textbf{Problème \textcolor{blue}{\hyperref[corpro\thechapter.\theproblem]{\theproblem}}}
  \if\relax\detokenize{#1}\relax\else\quad #1\fi%
  \label{probleme\thechapter.\theproblem}
  \par\vspace{0.5em}%
  \setlength{\parindent}{0pt}% Supprimer l'indentation pour le contenu de l'environnement
}{
  \par\vspace{0.5em}%
}

% Redéfinir l'environnement du problème correct

\renewcommand{\thecorrigerprobleme}{\arabic{corrigerprobleme}}
\renewenvironment{corrigerprobleme}[1][]{
  \refstepcounter{corrigerprobleme}

     \par\noindent\textbf{ Problème \textcolor{blue}{\hyperref[coursprob\thechapter.\thecorrigerprobleme]{\thecorrigerprobleme}}}%
     
  \if\relax\detokenize{#1}\relax\else\quad #1\fi%
  
  \label{corrigepro\thechapter.\thecorrigerprobleme}
  \par\vspace{0.5em}%
  \setlength{\parindent}{0pt}
}{
  \par\vspace{0.5em}%
}
\makeatother


%----------------------Method numbering with link--------%


\definecolor{mpink}{RGB}{140, 30, 60}
%******************************
%******************************
\usepackage{etoolbox} % For \AtBeginEnvironment and \AtEndEnvironment

\newtheorem{methode}{Methode}[chapter]

\makeatletter
\renewcommand{\themethode}{\Alph{methode}}
\renewenvironment{methode}[1][]{
  \begingroup
  \hypersetup{linkcolor=mpink} % Locally changes the colour of the links
  \refstepcounter{methode}
  \par\noindent\textbf{Méthode \hyperref[methcours\thechapter.\csname themethode\endcsname]{\themethode}}
  \if\relax\detokenize{#1}\relax\else\quad #1\fi%
  \label{ex\thechapter.\themethode}
  \par\vspace{0.5em}%
  \setlength{\parindent}{0pt}%
}{
  \par\vspace{0.5em}%
  \endgroup
}
\makeatother

%******************************
%******************************


%================= Colors definition ====================
\colorlet{schemecolor}{Apricot}

\def\mypattern{north west lines}
% Other options are: grid, crosshatch, north east lines, dots, crosshatch dots, bricks


% Choix couleur unie
\tikzset{mystyle/.style={line join=bevel, pattern=\mypattern, pattern color=schemecolor, fill=Apricot!30}}


%========================================================



%------The spacing--------%

\usepackage{setspace} % To manage the spacing
\usepackage{titlesec} % To customise section titles

% Configuration Cockpit
\newcommand{\cockpit}{
    \setstretch{1.2} % Adjust the general spacing here
    
    %Minimise space before and after sections
    \titlespacing*{\section}{0pt}{1em}{0.5em} % Section
    \titlespacing*{\subsection}{0pt}{0.8em}{0.4em} % Subsection
    \titlespacing*{\subsubsection}{0pt}{0.6em}{0.3em} % Subsubsection
    
    % Minimise space before and after the environments
    \newcommand{\reduceSpace}{\setlength{\parskip}{0pt}\setlength{\parsep}{0pt}\setlength{\itemsep}{0pt}}
    \reduceSpace % Enforce space reduction
}

% Apply the cockpit
\cockpit
%-----------Frame colour----------%


\usepackage{tcolorbox}
\usepackage{xcolor}
% Definition of colours


\definecolor{myblue}{RGB}{87, 132, 186}  
\definecolor{mygray}{RGB}{220, 220, 220}
\definecolor{mypink}{RGB}{219, 106, 143}  
\definecolor{redgeogbra}{rgb}{1,0,0}
\definecolor{col2}{RGB}{0, 128, 128}  
\definecolor{Palette1}{RGB}{247,246,207} % #F7F6CF
\definecolor{Palette2}{RGB}{182,216,242} % #B6D8F2
\definecolor{Palette3}{RGB}{244,207,223} % #F4CFDF
\definecolor{Palette4}{RGB}{87,132,186} % #5784BA
\definecolor{Palette5}{RGB}{242,207,188} %
\definecolor{Palette6}{RGB}{207, 247, 223}  % 
\definecolor{Palette7}{RGB}{242, 223, 207}  
\definecolor{Palette8}{RGB}{216, 207, 244}  % 
\definecolor{Palette9}{RGB}{207, 237, 247}
% Circle colors for diagrams
\colorlet{circle edge}{black}
\colorlet{circle area}{blue!50!cyan!20}
\colorlet{schemecolor}{Apricot}

%Configuring margins
\geometry{a4paper, margin=2cm}

% Box with rounded corners (Blue)
\newtcolorbox{mydefinition}[1][]{
  colback=mygray!10, % Box background colour
  colframe=myblue!80, % Using the blue colour for the border
  title={#1},
  boxrule=0.8pt, % Thickness of the border
  arc=12pt,  % Larger radius for more rounded corners
  breakable, % Allows the box to break on several pages
  width=\linewidth, % Width of the box
  fonttitle=\bfseries, % Title in bold
  boxed title style={size=normal, colback=myblue!50, colframe=myblue!80}, % Using the blue colour for the title
  before upper={\noindent} % Indentation of the text inside
}
%The colours 
\definecolor{col1}{RGB}{204, 229, 255}
\definecolor{myblue}{HTML}{5784BA}
\definecolor{mygreen}{HTML}{cbdbaf}
\definecolor{myorange}{HTML}{fed6b6}
% Boîte avec coins arrondis (rose)
\newtcolorbox{mypinkbox}[1][]{
  colback=mypink!10, % Pink box background colour
  colframe=mypink!70, % Use of pink colour for border
  title={#1},
  boxrule=0.8pt, % Thickness of the border
  arc=15pt,  % Larger radius for more rounded corners
  breakable, % Allows the box to break on several pages
  width=\linewidth, % Width of the box
  fonttitle=\bfseries, % Title in bold
  boxed title style={size=normal, colback=mypink!30, colframe=mypink!70}, % Use of the colour pink for the title
  before upper={\noindent} %Indentation of the text inside
}
\raggedbottom






\usepackage{tcolorbox}
\definecolor{pastelyellow}{rgb}{1.0, 0.95, 0.7} % Set the pastel yellow colour

%Set the boxM box
\newtcolorbox{boxM}{
    fontupper = \color{black},     % Colour of the text inside
    arc = 12pt,                    % Rounded corners with radius of 12pt
    colback = pastelyellow,        %Background colour
    colframe = pastelyellow,       % Contour colour (identical to the background)
    boxrule = 0pt,                 % Edge thickness
    enhanced,
    drop fuzzy shadow = black!40,  % Soft shadow effect
    halign = left,                 % Left-hand content alignment
    valign = center,               % Vertically centred content
    boxsep = 5pt,                  % Internal spacing
    left = 5pt, right = 5pt, top = 5pt, bottom = 5pt % Margins around the content
}

\renewcommand{\cleardoublepage}{\clearpage} 

\newcommand{\mylist}[2]{
\hspace{-37pt}{\setlength{\tabcolsep}{35pt}
\begin{tabular}{lllll}
#1 \\[4mm]
#2
\end{tabular}}
\bigskip
}




% Definition of style for numbers in blank circles with black outline
\newcommand{\outlinecircleitem}[1]{%
    \tikz[baseline=(char.base)]{%
        \node[shape=circle, draw=black, thick, inner sep=1.5pt] (char) {#1};%
    }%
}



% ========================================
% SECTION NUMBERING (4 LEVELS: I, 1, A, a)
% ========================================
\renewcommand\thesection{\Roman{section}}        % I, II, III, ...
\renewcommand\thesubsection{\arabic{subsection}} % 1, 2, 3, ...
\renewcommand\thesubsubsection{\Alph{subsubsection}} % A, B, C, ...

% Define 4th level as true subsubsubsection
\setcounter{secnumdepth}{4}    % Number up to 4th level
\setcounter{tocdepth}{3}       % Include up to 3th level in TOC

% Create a new sectioning command for 4th level
% Declare subsubsubsection as 4th-level sectioning under subsubsection
\titleclass{\subsubsubsection}{straight}[\subsubsection]

% Create and reset counter with subsubsection
\newcounter{subsubsubsection}[subsubsection]

% Define numbering: a, b, c (simple lowercase)
\renewcommand\thesubsubsubsection{\alph{subsubsubsection}}

% Optional: paragraph numbered as a.1, etc.
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}}

% Formatting: no parentheses
\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}
  {\thesubsubsubsection}{1em}{}

% Spacing: neat but not too tight
\titlespacing*{\subsubsubsection}
  {0pt}{1.5ex plus 0.3ex minus .2ex}{0.5ex plus .2ex}





\usepackage[hang,flushmargin]{footmisc}

\usepackage[T1]{fontenc} 

%----------------------------begin document-------------------------------

\begin{document}

\input{titlepage}



\pagenumbering{roman}

\chapter*{Abstract}

The abstract goes here....

\addcontentsline{toc}{chapter}{Abstract}


\newpage

\tableofcontents
\newpage

\pagenumbering{arabic}

	


%--------------Chapitre 1 ------------%



	
	\include{Chapitres/Chapitre1}


   



\end{document}

